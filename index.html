<!DOCTYPE html>
<html lang="en"> 
<head>
  <meta charset="utf-8" />
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /> 
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
  <link type="text/css" href="./styles.css" rel="stylesheet" />
  <link rel="shortcut icon" href="get/favicon.png" type="image/png" />
  <title>PLINAR</title>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/38179485" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript> 
</head> 
<body>
  <model-viewer class="model-viewer" bounds="tight" src="get/demo.glb" ios-src="get/demo.usdz" shadow-intensity="1" ar enable-pan ar-scale="auto" camera-controls exposure="1" ar-modes="scene-viewer quick-look webxr" quick-look-browsers="safari chrome" auto-rotate scale="1.2 1.2 1.2" min-camera-orbit="auto auto auto" max-camera-orbit="auto auto auto" autoplay > 
    <div class="progress-bar hide" slot="progress-bar"> 
      <div class="update-bar"></div> 
    </div> 
    <button onclick="myFunction()" slot="ar-button" id="ar-button" class="ar-button"> –í–∫–ª—é—á–∏—Ç—å AR </button>
    <div id="ar-prompt"> <img src="get/hand.png" /></div> 
  </model-viewer>
  <div class="frame">
    <button class="button__view-ar" id="ar">
        <span class="button__view-ar--span">
            <img src="assets/iconAR.png" class="button__view-ar--icon" alt="icon_ar">
        </span>
        <p class="button__view-ar--text">VIEW IN AR</p>
    </button>
  </div>
  <div id="modal" class="modal">
    <div class="modal__content">
      <span class="modal__content--close">&times;</span>
      <p class="modal__content--text">–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ —Å –ø–æ–º–æ—â—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.</p>
      <div class="modal__content--qr" id="qrcode"></div>
    </div>
  </div>

  <script src="get/focus-visible.js" defer></script> 
  <!-- üö® REQUIRED: Web Components polyfill to support Edge and Firefox < 63 -->
  <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script>
  <!-- üíÅ OPTIONAL: Intersection Observer polyfill for better performance in Safari and IE11 -->
  <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
  <!-- üíÅ OPTIONAL: Resize Observer polyfill improves resize behavior in non-Chrome browsers -->
  <script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.js"></script>
  <!-- üíÅ OPTIONAL: Fullscreen polyfill is needed to fully support AR features -->
  <script src="https://unpkg.com/fullscreen-polyfill@1.0.2/dist/fullscreen.polyfill.js"></script>
  <!-- üíÅ OPTIONAL: Include prismatic.js for Magic Leap support -->
  <script src="https://unpkg.com/@magicleap/prismatic/prismatic.min.js"></script>
  <!-- Yandex.Metrika counter --> 
  <script type="text/javascript" > 
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(38179485, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); 
  </script>
  <script>
    function myFunction() {
      document.getElementById("ar-button").innerHTML = "–ó–∞–≥—Ä—É–∑–∫–∞...";
    }
  </script>
  <script src="qrcode.js"></script>
  <script type="text/javascript">
    const href = window.location.href;

    var qrcode = new QRCode(document.getElementById("qrcode"), {
        text: href,
        width: 270,
        height: 270,
        colorDark : "#000000",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.H
    });
  </script>
  <script src="app.js"></script>
  <script src="script.js"></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script>
    window.addEventListener("load", () => {
      var modelViewer = document.querySelector('.model-viewer');
      console.log("Can activate AR: " + modelViewer.canActivateAR);
      modelViewer.activateAR();
    });
  </script>
</body>
</html>